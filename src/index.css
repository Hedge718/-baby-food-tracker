@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Theme tokens ---------- */
:root {
  --bg-light: #f8fafc;           /* slate-50 */
  --bg-dark:  #0f172a;           /* slate-900 */
  --card-light: #ffffff;
  --card-dark: rgba(2,6,23,0.6);  /* slate-950/60 */
  --border-light: #e2e8f0;       /* slate-200 */
  --border-dark:  #1f2937;       /* slate-800 */
  --text-muted-light: #64748b;   /* slate-500 -> slightly brighter */
  --text-muted-dark:  #94a3b8;   /* slate-400 -> brighter for contrast */
  --accent-light: #7c3aed;       /* violet-600 */
  --accent-dark:  #c084fc;       /* violet-300 */
  --accent-pink:  #ec4899;       /* rose-500 */
}

/* ---------- App base ---------- */
html, body, #root {
  height: 100%;
  background: var(--bg-light);
}
:root.dark, .dark :root, .dark body {
  background: var(--bg-dark);
}

/* Gradient backdrop (subtle, less muddy) */
body {
  background:
    radial-gradient(1200px 600px at 50% -200px, rgba(124,58,237,0.15), transparent 60%),
    var(--bg-light);
}
.dark body {
  background:
    radial-gradient(1200px 600px at 50% -200px, rgba(124,58,237,0.18), transparent 60%),
    var(--bg-dark);
}

.text-muted { color: var(--text-muted-light); }
.dark .text-muted { color: var(--text-muted-dark); }

/* ---------- Cards / Inputs ---------- */
.card {
  @apply rounded-2xl p-5;
  background: var(--card-light);
  border: 1px solid var(--border-light);
}
.dark .card {
  background: var(--card-dark);
  border: 1px solid var(--border-dark);
}

.input, .input-field {
  @apply w-full rounded-xl px-4 py-2 outline-none;
  background: rgba(255,255,255,0.9);
  border: 1px solid var(--border-light);
}
.dark .input, .dark .input-field {
  background: rgba(2,6,23,0.6);
  border: 1px solid var(--border-dark);
}
.input::placeholder, .input-field::placeholder { color: var(--text-muted-light); }
.dark .input::placeholder, .dark .input-field::placeholder { color: var(--text-muted-dark); }

/* Pills / small buttons */
.pill {
  @apply inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium;
  background: rgba(124,58,237,0.10);
  color: var(--accent-light);
  border: 1px solid rgba(124,58,237,0.25);
}
.dark .pill {
  background: rgba(198,142,255,0.12);
  color: var(--accent-dark);
  border-color: rgba(198,142,255,0.28);
}

/* ---------- Safe-area helpers ---------- */
.pt-safe { padding-top: env(safe-area-inset-top); }
.pb-safe { padding-bottom: env(safe-area-inset-bottom); }

/* Give main content enough room above the bottom nav */
.main-pad-bottom { padding-bottom: calc(84px + env(safe-area-inset-bottom)); }

/* ---------- Bottom nav ---------- */
.mobile-nav {
  @apply fixed bottom-0 left-0 right-0 flex justify-around border-t;
  background: rgba(255,255,255,0.95);
  border-color: var(--border-light);
  height: 58px;
  padding-bottom: env(safe-area-inset-bottom);
  backdrop-filter: blur(8px);
}
.dark .mobile-nav {
  background: rgba(17,24,39,0.95);
  border-color: var(--border-dark);
}

/* Hide labels on very small phones */
@media (max-width: 360px) {
  .nav-label { display: none; }
}

/* ---------- FAB ---------- */
.fab {
  position: fixed;
  right: 16px;
  bottom: calc(72px + env(safe-area-inset-bottom) + 12px); /* sit above nav */
  z-index: 40;
}
.fab button {
  @apply rounded-full w-14 h-14 flex items-center justify-center text-white shadow-lg;
  background: linear-gradient(180deg, #a78bfa, #7c3aed);
}

/* ---------- Utilities ---------- */
.clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
.badge {
  @apply text-[11px] font-semibold px-2 py-0.5 rounded-full;
  background: rgba(148,163,184,.2);
  color: var(--text-muted-light);
}
.dark .badge { color: var(--text-muted-dark); background: rgba(148,163,184,.18); }
